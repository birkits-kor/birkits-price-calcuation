<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë²„í‚·ì¸ (birkits) ìŠ¤ë§ˆíŠ¸ ê²¬ì ì„œ</title>
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        :root { --brand-color: #1a1a1a; --point-color: #3498db; --bg-color: #f2f4f7; --sale-color: #e67e22; }
        body { font-family: -apple-system, sans-serif; background-color: var(--bg-color); margin: 0; padding: 0; color: #333; }
        .header { background: white; padding: 20px; text-align: center; border-bottom: 1px solid #eee; position: sticky; top: 0; z-index: 100; }
        .logo { font-size: 1.6rem; font-weight: 900; margin: 0; color: var(--brand-color); }
        .content { padding: 20px; padding-bottom: 180px; max-width: 500px; margin: 0 auto; }
        .section-title { font-size: 1rem; font-weight: 800; margin: 25px 0 15px 5px; color: var(--brand-color); border-left: 4px solid var(--point-color); padding-left: 10px; }
        .lineup-tabs { display: flex; gap: 8px; margin-bottom: 15px; }
        .tab-btn { flex: 1; padding: 14px; border: 2px solid #ddd; border-radius: 12px; background: white; font-weight: bold; cursor: pointer; }
        .tab-btn.active { border-color: var(--brand-color); background: var(--brand-color); color: white; }
        .select-trigger { width: 100%; padding: 16px; background: white; border: 1px solid #e0e0e0; border-radius: 15px; text-align: left; margin-bottom: 8px; cursor: pointer; display: flex; justify-content: space-between; font-weight: 600; }
        .price-origin { text-decoration: line-through; color: #bbb; font-size: 0.75rem; }
        .price-final { color: var(--sale-color); font-weight: 900; display: block; }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; align-items: flex-end; }
        .modal-content { width: 100%; background: white; border-radius: 25px 25px 0 0; max-height: 85%; overflow-y: auto; padding: 20px; box-sizing: border-box;}
        .option-item { padding: 15px 0; border-bottom: 1px solid #f5f5f5; cursor: pointer; }
        .bottom-bar { position: fixed; bottom: 0; left: 0; width: 100%; background: white; padding: 20px; border-top: 1px solid #eee; z-index: 1000; }
        .btn-action { width: 100%; padding: 15px; border-radius: 12px; font-weight: bold; border: none; color: white; background: var(--sale-color); margin-top: 10px; }
    </style>
</head>
<body>

<div class="header">
    <h1 class="logo">birkits</h1>
    <div class="sub-logo">ë²„í‚·ì¸  ìŠ¤ë§ˆíŠ¸ ê²¬ì ì„œ</div>
</div>

<div class="content">
    <div class="lineup-tabs">
        <button class="tab-btn active" id="tab-ma" onclick="switchLineup('ma')">Ma bed (ë§ˆë² ë“œ)</button>
        <button class="tab-btn" id="tab-shuv" onclick="switchLineup('shuv')">shuv (ìŠˆë¸Œ)</button>
    </div>

    <div class="section-title">ì œí’ˆ ê²¬ì  ì„ íƒ</div>
    <button class="select-trigger" style="border: 2px solid var(--sale-color); color: var(--sale-color);" onclick="openSetModal()">â­ ì„¸íŠ¸ ìƒí’ˆ ì„ íƒ (ì¶”ê°€í• ì¸ ë°˜ì˜) <span>+</span></button>
    <button class="select-trigger" onclick="openModal('frames')">í”„ë ˆì„ ì„ íƒ <span>+</span></button>
    <button class="select-trigger" id="fabricBtn" style="display:none;" onclick="openModal('fabrics')">íŒ¨ë¸Œë¦­ ì»¬ëŸ¬ ì„ íƒ (ìŠˆë¸Œ ì „ìš©) <span>+</span></button>
    <button class="select-trigger" onclick="openModal('mattresses')">ë§¤íŠ¸ë¦¬ìŠ¤ ì„ íƒ <span>+</span></button>
    <button class="select-trigger" onclick="openModal('heads')">í—¤ë“œ / í˜‘íƒ íŒ¨í‚¤ì§€ ì„ íƒ <span>+</span></button>
    <button class="select-trigger" onclick="openModal('tables')">í…Œì´ë¸” ì„ íƒ <span>+</span></button>

    <div id="itemList"></div>
</div>

<div class="bottom-bar">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <span style="font-weight:bold;">ì´ ê²¬ì  ê¸ˆì•¡</span>
        <span style="font-size:1.5rem; font-weight:900; color:var(--sale-color);"><span id="totalDisplay">0</span>ì›</span>
    </div>
    <button class="btn-action" onclick="copyText()">ê²¬ì  ë‚´ì—­ ë³µì‚¬í•˜ê¸°</button>
</div>

<div class="modal-overlay" id="modalOverlay" onclick="closeModal()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <h3 id="modalTitle" style="margin-bottom:15px;">ì˜µì…˜ ì„ íƒ</h3>
        <div id="optionList"></div>
    </div>
</div>

<script>
let currentLineup = 'ma';
let selectedItems = [];

// ì‹œíŠ¸ ê¸°ë°˜ ì „ ë°ì´í„° ë¡œë“œ
const mattressData = [
    {n:"S í•˜ë“œ", op:1100000, p:553500}, {n:"S ë¯¸ë””ì›€ í•˜ë“œ", op:1100000, p:465500},
    {n:"SS í•˜ë“œ", op:1200000, p:573500}, {n:"SS ë¯¸ë””ì›€ í•˜ë“œ", op:1200000, p:485500},
    {n:"Q í•˜ë“œ", op:1500000, p:611500}, {n:"Q ë¯¸ë””ì›€ í•˜ë“œ", op:1500000, p:545500},
    {n:"S+S ì»¤í”Œ í•˜ë“œ", op:2200000, p:1107000}, {n:"S+S ì»¤í”Œ MH", op:2200000, p:931000},
    {n:"SS+SS ì»¤í”Œ í•˜ë“œ", op:2400000, p:1147000}, {n:"SS+SS ì»¤í”Œ MH", op:2400000, p:971000}
];

const data = {
    ma: {
        frames: [
            {n:"S í”„ë ˆì„ (ê·¸ë ˆì´/ë‚´ì¶”ëŸ´/í™”ì´íŠ¸)", op:2400000, p:989000},
            {n:"SS í”„ë ˆì„ (ê·¸ë ˆì´/ë‚´ì¶”ëŸ´/í™”ì´íŠ¸)", op:2500000, p:1089000},
            {n:"Q í”„ë ˆì„ (ê·¸ë ˆì´/ë‚´ì¶”ëŸ´/í™”ì´íŠ¸)", op:2800000, p:1289000},
            {n:"S+S í”„ë ˆì„", op:4800000, p:1978000},
            {n:"SS+SS í”„ë ˆì„", op:5000000, p:2178000}
        ],
        fabrics: [],
        heads: [
            {n:"SS í—¤ë“œ ë‹¨í’ˆ", op:400000, p:160000}, {n:"SS í—¤ë“œ+í˜‘íƒ1", op:800000, p:340000}, {n:"SS í—¤ë“œ+í˜‘íƒ2", op:1200000, p:520000},
            {n:"Q í—¤ë“œ ë‹¨í’ˆ", op:500000, p:200000}, {n:"Q í—¤ë“œ+í˜‘íƒ1", op:900000, p:380000}, {n:"Q í—¤ë“œ+í˜‘íƒ2", op:1300000, p:560000},
            {n:"S+S í—¤ë“œ ë‹¨í’ˆ", op:700000, p:280000}, {n:"S+S í—¤ë“œ+í˜‘íƒ1", op:1100000, p:460000}, {n:"S+S í—¤ë“œ+í˜‘íƒ2", op:1500000, p:640000}
        ],
        tables: [{n:"SS ìë™ í…Œì´ë¸”", op:800000, p:340000}, {n:"Q ìë™ í…Œì´ë¸”", op:900000, p:400000}],
        sets: {
            "ğŸŒ™ ì—ì„¼ì…œ ìŠ¬ë¦½": { d: 2, o: "í”„ë ˆì„+ë§¤íŠ¸ë¦¬ìŠ¤+í—¤ë“œ", sizes: { 
                "SS": [4100000, 1822500, 1786000, 1699760], 
                "Q": [4800000, 2100500, 2058000, 1993320],
                "S+S": [7700000, 3364500, 3298000, 3125520],
                "SS+SS": [8600000, 3644900, 3572000, 3399520]
            } }
        }
    },
    shuv: {
        frames: [
            {n:"S í”„ë ˆì„ (ë³´ì—ë¥´)", op:3750000, p:1409000},
            {n:"SS í”„ë ˆì„ (ë³´ì—ë¥´)", op:4000000, p:1509000},
            {n:"Q í”„ë ˆì„ (ë³´ì—ë¥´)", op:4500000, p:1809000},
            {n:"S+S í”„ë ˆì„ (ë³´ì—ë¥´)", op:7500000, p:2818000},
            {n:"SS+SS í”„ë ˆì„ (ë³´ì—ë¥´)", op:8000000, p:3018000}
        ],
        fabrics: [
            {n:"ë³´ì—ë¥´ Fog (ì•„ì´ë³´ë¦¬)", op:0, p:0},
            {n:"ë³´ì—ë¥´ Sand (ë² ì´ì§€)", op:0, p:0},
            {n:"ë³´ì—ë¥´ Ocean (ë¸”ë£¨)", op:0, p:0}
        ],
        heads: [
            {n:"SS íŒ¨ë¸Œë¦­ í—¤ë“œ", op:800000, p:280000}, {n:"SS í—¤ë“œ+í˜‘íƒ1", op:1400000, p:600000}, {n:"SS í—¤ë“œ+í˜‘íƒ2", op:2000000, p:920000},
            {n:"Q íŒ¨ë¸Œë¦­ í—¤ë“œ", op:1000000, p:320000}, {n:"Q í—¤ë“œ+í˜‘íƒ1", op:1800000, p:740000}, {n:"Q í—¤ë“œ+í˜‘íƒ2", op:2600000, p:1060000}
        ],
        tables: [{n:"SS íŒ¨ë¸Œë¦­ í…Œì´ë¸”", op:700000, p:320000}, {n:"Q íŒ¨ë¸Œë¦­ í…Œì´ë¸”", op:800000, p:360000}],
        sets: {
            "ğŸŒ™ ì—ì„¼ì…œ ìŠ¬ë¦½": { d: 2, o: "ìŠˆë¸Œ í”„ë ˆì„+ë§¤íŠ¸ë¦¬ìŠ¤+í—¤ë“œ", sizes: { 
                "SS": [5500000, 2362500, 2315000, 2228760], 
                "Q": [6500000, 2740500, 2686000, 2621320]
            } }
        }
    }
};

function switchLineup(l) { 
    currentLineup = l; 
    document.getElementById('tab-ma').classList.toggle('active', l === 'ma'); 
    document.getElementById('tab-shuv').classList.toggle('active', l === 'shuv');
    document.getElementById('fabricBtn').style.display = l === 'shuv' ? 'flex' : 'none';
}

function openModal(c) {
    const l = document.getElementById('optionList'); document.getElementById('modalTitle').innerText = "ì˜µì…˜ ì„ íƒ";
    l.innerHTML = '';
    const opts = c === 'mattresses' ? mattressData : data[currentLineup][c];
    opts.forEach(opt => {
        const div = document.createElement('div'); div.className = 'option-item';
        div.onclick = () => { addItem(opt.n, opt.p, currentLineup, "", opt.op); closeModal(); };
        div.innerHTML = `<span>${opt.n}</span><div style="float:right;">${opt.op > 0 ? `<span class="price-origin">â‚©${opt.op.toLocaleString()}</span>` : ''} <span style="font-weight:bold;">â‚©${opt.p.toLocaleString()}ì›</span></div>`;
        l.appendChild(div);
    });
    document.getElementById('modalOverlay').style.display = 'flex';
}

function openSetModal() {
    const l = document.getElementById('optionList'); document.getElementById('modalTitle').innerText = "ì„¸íŠ¸ êµ¬ì„± ì„ íƒ";
    l.innerHTML = '';
    for (let setName in data[currentLineup].sets) {
        const set = data[currentLineup].sets[setName];
        const div = document.createElement('div'); div.className = 'option-item';
        div.onclick = () => selectSetSize(setName);
        div.innerHTML = `<strong>${setName}</strong><div style="font-size:0.8rem; color:#888;">${set.o}</div>`;
        l.appendChild(div);
    }
    document.getElementById('modalOverlay').style.display = 'flex';
}

function selectSetSize(setName) {
    const l = document.getElementById('optionList'); document.getElementById('modalTitle').innerText = "ì‚¬ì´ì¦ˆ ì„ íƒ";
    l.innerHTML = '';
    const sizes = data[currentLineup].sets[setName].sizes;
    for (let size in sizes) {
        const div = document.createElement('div'); div.className = 'option-item'; div.onclick = () => selectSetType(setName, size);
        div.innerHTML = `<span>${size} ì‚¬ì´ì¦ˆ</span>`;
        l.appendChild(div);
    }
}

function selectSetType(setName, size) {
    const l = document.getElementById('optionList'); document.getElementById('modalTitle').innerText = "ë§¤íŠ¸ë¦¬ìŠ¤ ì„ íƒ";
    l.innerHTML = '';
    const p = data[currentLineup].sets[setName].sizes[size];
    [{n:"í•˜ë“œ", fp:p[2]}, {n:"ë¯¸ë””ì›€ í•˜ë“œ", fp:p[3]}].forEach(type => {
        const div = document.createElement('div'); div.className = 'option-item';
        div.onclick = () => { addItem(`${setName} ${size} (${type.n})`, type.fp, currentLineup, data[currentLineup].sets[setName].o, p[0]); closeModal(); };
        div.innerHTML = `<span>${type.n}</span><span style="float:right; font-weight:bold; color:var(--sale-color);">${type.fp.toLocaleString()}ì›</span>`;
        l.appendChild(div);
    });
}

function closeModal() { document.getElementById('modalOverlay').style.display = 'none'; }
function addItem(n, p, b, d, op) { selectedItems.push({ id: Date.now(), name: `[${b.toUpperCase()}] ${n}`, price: p, desc: d, origin: op }); render(); }
function removeItem(id) { selectedItems = selectedItems.filter(i => i.id !== id); render(); }

function render() {
    const list = document.getElementById('itemList'); list.innerHTML = ''; let t = 0;
    selectedItems.forEach(i => { t += i.price;
        list.innerHTML += `<div class="item-row"><div><strong>${i.name}</strong><br>${i.origin > 0 ? `<span class="price-origin">â‚©${i.origin.toLocaleString()}</span> ` : ''}<span class="price-final">â‚©${i.price.toLocaleString()}ì›</span></div><button onclick="removeItem(${i.id})" style="border:none; background:none; font-size:1.5rem; color:#ccc; cursor:pointer;">Ã—</button></div>`;
    }); document.getElementById('totalDisplay').innerText = t.toLocaleString();
}

function copyText() {
    const items = selectedItems.map(i => `${i.name}: ${i.price.toLocaleString()}ì›`).join('\n');
    const txt = `[ë²„í‚·ì¸  ê²¬ì ì„œ]\n${items}\n\nì´ ê¸ˆì•¡: ${document.getElementById('totalDisplay').innerText}ì›`;
    navigator.clipboard.writeText(txt).then(() => alert("ê²¬ì  ë‚´ìš©ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!"));
}
</script>
</body>
</html>
